# HTTP Proxy Learning System

Обучающая система HTTP-прокси - курсовая работа на C++17 с использованием Qt 6.

## Технический стек

- **Язык**: C++17
- **Фреймворк**: Qt 6 (Widgets, SQL)
- **Сборка**: qmake (.pro файлы)
- **База данных**: PostgreSQL
- **ОС**: Linux

## Структура проекта

```
HttpProxyCourse/
├── CourseProject.pro      # Конфигурация qmake
├── data/                  # SQL скрипты и данные курса
│   ├── schema.sql        # Схема базы данных
│   └── course_source.json # Исходные данные курса
├── src/                   # Исходный код
│   ├── main.cpp          # Точка входа приложения
│   ├── core/             # Бизнес-логика
│   │   ├── CourseManager.h/cpp    # Управление курсом
│   │   └── CryptoUtils.h/cpp      # Криптографические функции
│   ├── db/               # Слой работы с БД
│   │   ├── DatabaseManager.h/cpp  # Менеджер БД
│   ├── models/           # Структуры данных
│   │   └── Structures.h  # Модели курса, глав, вопросов
│   └── ui/               # Пользовательский интерфейс
│       ├── LoginDialog.h/cpp      # Окно авторизации
│       └── AdminWindow.h/cpp      # Панель администратора
├── tests/                 # Тесты
│   └── test_db_connection.cpp
└── bin/                   # Скомпилированные бинарники
```

## Сборка и запуск

### Предварительные требования

1. Qt 6 с модулями: core, gui, widgets, sql
2. PostgreSQL с драйвером QPSQL
3. Компилятор с поддержкой C++17

### Установка зависимостей (Ubuntu/Debian)

```bash
sudo apt-get install qt6-base-dev qt6-tools-dev qmake6 build-essential
sudo apt-get install postgresql postgresql-contrib libpq-dev libqt6sql6-psql
```

### Настройка базы данных

```bash
# Запуск PostgreSQL
sudo service postgresql start

# Создание базы данных
sudo -u postgres createdb course_db

# Выполнение SQL схемы
sudo -u postgres psql -d course_db -f data/schema.sql
```

### Компиляция

```bash
qmake6 CourseProject.pro
make
```

### Запуск

```bash
./bin/CourseProject
```

## Реализованные компоненты

### Сессия №1 ✅ (Инфраструктура)

- [x] Структура проекта с необходимыми директориями
- [x] Конфигурация qmake с модулями Qt и C++17
- [x] SQL схема с таблицами `users` и `study_progress`
- [x] DatabaseManager как Singleton с подключением к PostgreSQL
- [x] Тестирование подключения к БД
- [x] Успешная компиляция и тестирование

### Сессия №2 ✅ (Core/Crypto)

- [x] Структуры данных для курса (Course, Chapter, Question)
- [x] CourseManager для загрузки/сохранения курса
- [x] CryptoUtils с SHA-256 хешированием и XOR шифрованием
- [x] Загрузка курса из JSON и сохранение в зашифрованный бинарный формат
- [x] Полная интеграция криптографических функций

### Сессия №3 ✅ (GUI)

- [x] LoginDialog с авторизацией и регистрацией пользователей
- [x] AdminWindow с двумя вкладками:
  - [x] Управление студентами (просмотр, поиск, генерация отчетов)
  - [x] Редактор курса (редактирование глав и содержимого)
- [x] Интеграция с системой аутентификации
- [x] Полнофункциональный GUI интерфейс

### Планируемые сессии

- **Сессия №4**: Студентский интерфейс и система тестирования
- **Сессия №5**: HTTP-прокси функциональность
- **Сессия №6**: Финальная интеграция и тестирование

## Функциональность

### Система авторизации
- Регистрация новых пользователей с хешированием паролей (SHA-256)
- Авторизация с проверкой учетных данных
- Разделение ролей: администратор и студент

### Панель администратора
- **Управление студентами**: просмотр списка пользователей, поиск по логину
- **Генерация отчетов**: создание текстовых отчетов с статистикой пользователей
- **Редактор курса**: редактирование заголовков и содержимого глав курса
- **Сохранение изменений**: автоматическое шифрование и сохранение в бинарный формат

### Система курсов
- Загрузка курса из JSON формата
- Шифрование и сохранение в бинарный формат с использованием XOR
- Структурированное хранение глав, содержимого и вопросов
- Возможность редактирования содержимого через GUI

## База данных

### Таблица `users`
- `id` - уникальный идентификатор (SERIAL PRIMARY KEY)
- `login` - логин пользователя (TEXT UNIQUE)
- `password_hash` - хеш пароля SHA-256 (TEXT)
- `role` - роль пользователя (TEXT, по умолчанию 'student')
- `created_at` - время создания (TIMESTAMP)

### Таблица `study_progress`
- `user_id` - ID пользователя (INT FK)
- `chapter_id` - ID главы (INT)
- `status` - статус изучения (TEXT, по умолчанию 'not_started')
- `last_score` - последний результат (INT, по умолчанию 0)
- `updated_at` - время обновления (TIMESTAMP)

## Автор

Курсовая работа по дисциплине "Программирование"