АРХИТЕКТУРА ПРОЕКТА "HTTP PROXY COURSE"
===========================================

ОБЩЕЕ ОПИСАНИЕ:
Система электронного обучения с веб-интерфейсом для изучения курсов и прохождения тестов.
Реализована на Qt с использованием PostgreSQL базы данных.

СТРУКТУРА КЛАССОВ:

1. МОДЕЛИ ДАННЫХ (src/models/)
   
   Структура Question
   - Ответственность: Представление вопроса теста
   - Основные поля:
     * q_text - текст вопроса
     * options - варианты ответов
     * correct_index - индекс правильного ответа
   - Методы: конструкторы, операторы сериализации

   Структура Chapter
   - Ответственность: Представление главы курса
   - Основные поля:
     * id - идентификатор главы
     * title - заголовок главы
     * content - содержание главы
     * questions - список вопросов для тестирования
   - Методы: конструкторы, операторы сериализации

   Структура Course
   - Ответственность: Представление курса
   - Основные поля:
     * chapters - список глав курса
   - Методы: конструкторы, операторы сериализации

2. УПРАВЛЕНИЕ БАЗОЙ ДАННЫХ (src/db/)

   Класс DatabaseManager
   - Ответственность: Управление подключением к PostgreSQL БД, аутентификация пользователей, отслеживание прогресса
   - Паттерн: Singleton
   - Основные методы:
     * getInstance() - получение экземпляра
     * connectToDatabase() - подключение к БД
     * initDatabase() - инициализация структуры БД
     * registerUser() - регистрация пользователя
     * authenticateUser() - аутентификация
     * saveProgress() - сохранение прогресса студента
     * getLastProgress() - получение последнего прогресса

3. ОСНОВНАЯ ЛОГИКА (src/core/)

   Класс CourseManager
   - Ответственность: Управление курсами (загрузка, сохранение, шифрование)
   - Основные методы:
     * loadCourseFromJSON() - загрузка курса из JSON
     * saveCourseToBinary() - сохранение в зашифрованный бинарный файл
     * loadCourseFromBinary() - загрузка из зашифрованного файла

   Класс CryptoUtils
   - Ответственность: Криптографические операции
   - Основные методы:
     * xorEncryptDecrypt() - шифрование/дешифрование XOR
     * hashPassword() - хеширование паролей

4. ПОЛЬЗОВАТЕЛЬСКИЙ ИНТЕРФЕЙС (src/ui/)

   Класс LoginDialog
   - Ответственность: Диалог авторизации и регистрации
   - Основные методы:
     * onLoginClicked() - обработка входа
     * onRegisterClicked() - обработка регистрации
     * getRole() - получение роли пользователя
     * getUserId() - получение ID пользователя

   Класс AdminWindow
   - Ответственность: Главное окно администратора
   - Функциональность: управление студентами, редактирование курса
   - Основные методы:
     * setupStudentsTab() - настройка вкладки студентов
     * setupCourseEditorTab() - настройка редактора курса
     * onSearchTextChanged() - поиск студентов
     * onGenerateReportClicked() - генерация отчетов
     * onSaveChangesClicked() - сохранение изменений курса

   Класс StudentWindow
   - Ответственность: Главное окно студента
   - Функциональность: изучение теории, прохождение тестов
   - Основные методы:
     * loadCourse() - загрузка курса
     * initializeProgress() - инициализация прогресса
     * showTheoryPage() - отображение теории
     * showTestPage() - отображение теста
     * onTakeTestClicked() - начало тестирования
     * processAnswer() - обработка ответов
     * moveToNextChapter() - переход к следующей главе

ВЗАИМОДЕЙСТВИЕ КОМПОНЕНТОВ:

1. Запуск приложения (main.cpp):
   - Инициализация DatabaseManager
   - Показ LoginDialog

2. Авторизация:
   - LoginDialog использует DatabaseManager для проверки учетных данных
   - В зависимости от роли открывается AdminWindow или StudentWindow

3. Работа администратора:
   - AdminWindow загружает данные через DatabaseManager
   - Использует CourseManager для работы с курсами
   - Сохраняет изменения через CryptoUtils (шифрование)

4. Работа студента:
   - StudentWindow загружает курс через CourseManager
   - Отслеживает прогресс через DatabaseManager
   - Использует структуры Course, Chapter, Question для отображения контента

ТЕХНОЛОГИИ:
- Qt Framework (GUI, SQL, Core)
- PostgreSQL (база данных)
- XOR шифрование (защита данных курса)
- JSON (формат исходных данных курса)
- Бинарная сериализация (хранение зашифрованных курсов)